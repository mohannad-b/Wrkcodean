{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525170}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525173}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525169}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525182}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525217}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525166}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"fail","durationMs":null,"errors":["expected [ Array(1) ] to deeply equal []"]},"timestamp":1767058525295}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767058525489}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767058525178}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 404 // Object.is equality"]},"timestamp":1767058525553}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058525629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"fail","durationMs":null,"errors":["expected \"vi.fn()\" to be called with arguments: [ ObjectContaining{…} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st vi.fn() call:\n\n\u001b[22m\u001b[33m@@ -1,9 +1,16 @@\u001b[90m\n\u001b[2m  [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[31m+     \"automationDescription\": undefined,\u001b[90m\n\u001b[31m+     \"automationName\": undefined,\u001b[90m\n\u001b[2m      \"automationVersionId\": \"version-1\",\u001b[22m\n\u001b[32m-     \"blueprintJson\": {\u001b[90m\n\u001b[31m+     \"businessOwner\": undefined,\u001b[90m\n\u001b[31m+     \"intakeNotes\": undefined,\u001b[90m\n\u001b[31m+     \"requirementsText\": undefined,\u001b[90m\n\u001b[31m+     \"tags\": undefined,\u001b[90m\n\u001b[31m+     \"tenantId\": \"tenant-1\",\u001b[90m\n\u001b[31m+     \"workflowJson\": {\u001b[90m\n\u001b[2m        \"branches\": [],\u001b[22m\n\u001b[2m        \"createdAt\": \"2025-12-30T01:35:25.163Z\",\u001b[22m\n\u001b[2m        \"sections\": [\u001b[22m\n\u001b[2m          {\u001b[22m\n\u001b[2m            \"content\": \"Outline the workflow\",\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m"]},"timestamp":1767058525670}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 403 // Object.is equality"]},"timestamp":1767058525996}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058525995}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 403 // Object.is equality"]},"timestamp":1767058526009}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526014}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058525872}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767058526184}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 400 // Object.is equality"]},"timestamp":1767058526185}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767058526186}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058526288}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526300}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526301}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526302}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526303}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526303}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526303}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526304}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526304}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526304}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming we handle business cont…' to match /quick sense of business context and …/i"]},"timestamp":1767058526325}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming systems follows your us…' to match /tell me about systems/i"]},"timestamp":1767058526325}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058526460}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526472}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526473}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526474}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526474}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Step 2: Connecting data flow between …' to be 'Connecting Salesforce and HubSpot' // Object.is equality"]},"timestamp":1767058526484}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767058526485}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058526538}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"fail","durationMs":null,"errors":["expected [ 'Overview', 'Build Status', …(4) ] to deeply equal [ 'Overview', 'Build Status', …(3) ]"]},"timestamp":1767058526569}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526583}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058526920}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526929}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"fail","durationMs":null,"errors":["expected error to be instance of ApiError"]},"timestamp":1767058526937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058526940}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058527348}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058527451}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058527828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058527826}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058527859}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528243}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528245}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528255}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528259}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528260}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528261}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058528323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528382}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528388}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528719}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528727}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528739}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528914}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528919}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058528919}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058529053}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058529157}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058529416}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529570}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529681}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529683}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058529687}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529950}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058529827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529869}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529950}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529961}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058529990}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530076}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530094}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530126}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530229}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530263}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530268}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530277}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530315}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530531}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530533}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530569}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530571}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530773}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530890}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530895}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058530898}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530956}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531031}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531033}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531034}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530894}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531019}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531059}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058530896}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531070}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531238}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531301}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531315}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531363}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531390}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531457}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531462}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531464}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531610}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531607}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531664}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531678}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531756}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531760}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531763}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531766}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531769}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531769}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531779}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531766}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531792}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531795}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531838}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531840}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531846}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531843}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531893}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058531975}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058531990}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532137}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532142}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532143}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532143}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532144}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532144}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532144}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532144}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532145}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532145}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532377}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532382}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532383}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532454}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532520}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532534}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767058532582}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532586}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767058532589}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532591}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532578}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532585}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532602}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532600}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532616}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532617}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532617}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532618}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532740}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532765}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532766}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058532803}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532808}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532809}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532810}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532810}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532811}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058532811}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533007}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533021}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533022}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533027}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533028}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533029}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533031}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533031}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533031}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533189}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533198}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533199}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533200}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533200}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533203}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533204}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533205}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533206}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533249}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533283}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533289}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533290}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533297}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058533819}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533829}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058533830}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534060}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534065}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534066}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534064}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534074}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534088}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534113}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534120}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534121}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534121}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534148}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534155}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534156}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534156}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534157}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534157}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767058534320}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767058534391}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534461}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534463}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534525}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767058534519}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534524}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534527}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534525}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534528}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534525}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534525}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534529}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534529}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767058534529}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059111588}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059111695}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059114877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059115142}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059115147}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059116035}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059116275}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059116341}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059116330}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059120483}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059120725}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059121181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059125940}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059126080}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059127029}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059127249}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059127804}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059128092}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059128333}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059128333}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059128562}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767059128633}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059176623}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059176891}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059176937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059177177}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059177622}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059177636}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059177620}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059208639}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059209337}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059209294}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059209301}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059209435}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059212286}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059212663}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059212702}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059212749}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059213150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059213418}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059217199}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059228311}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059240388}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059265067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059265587}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059375153}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059375768}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059380024}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059381843}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059383072}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059383326}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059386837}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059387388}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059390385}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059390777}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059396458}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059399062}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059399681}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059408441}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059409068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059423650}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059430679}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767059431343}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767060945890}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767060946073}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767060952962}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767060953379}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061001920}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061017606}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061092630}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061093094}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061117742}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061118117}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061221615}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061227461}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061257149}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061302499}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061323026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061405320}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767061642619}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767061655924}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408508}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408508}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408510}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408544}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"fail","durationMs":null,"errors":["expected [ Array(1) ] to deeply equal []"]},"timestamp":1767062408675}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767062408516}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767062408753}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062408797}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 404 // Object.is equality"]},"timestamp":1767062408794}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062408802}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"fail","durationMs":null,"errors":["expected undefined to be defined"]},"timestamp":1767062408806}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 403 // Object.is equality"]},"timestamp":1767062409008}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409021}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 403 // Object.is equality"]},"timestamp":1767062409032}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409035}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062408954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767062409293}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 400 // Object.is equality"]},"timestamp":1767062409295}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767062409296}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062409417}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409422}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409423}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409423}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409424}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409425}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409425}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Step 2: Connecting data flow between …' to be 'Connecting Salesforce and HubSpot' // Object.is equality"]},"timestamp":1767062409430}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767062409431}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062409395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"fail","durationMs":null,"errors":["expected [ 'Overview', 'Build Status', …(4) ] to deeply equal [ 'Overview', 'Build Status', …(3) ]"]},"timestamp":1767062409436}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409437}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062409501}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409510}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409512}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409516}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409518}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409518}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409519}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409519}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409526}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming we handle business cont…' to match /quick sense of business context and …/i"]},"timestamp":1767062409530}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming systems follows your us…' to match /tell me about systems/i"]},"timestamp":1767062409530}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062409616}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"fail","durationMs":null,"errors":["expected error to be instance of ApiError"]},"timestamp":1767062409639}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409644}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409645}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409645}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409646}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409646}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409646}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062409647}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410125}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410255}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410366}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410379}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410554}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062410711}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410738}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410825}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410830}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410831}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410832}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410833}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410833}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410899}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410907}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410987}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410988}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062410989}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"fail","durationMs":null,"errors":["expected 'data: {\"status\":\"thinking\"}\\n\\ndata: …' to contain '\"status\":\"complete\"'"]},"timestamp":1767062411100}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062411257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062411396}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062411489}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062411561}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411585}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411593}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062411727}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411850}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411886}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411887}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411957}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411962}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767062411980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411985}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062411986}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062412409}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412463}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412478}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062412623}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412763}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412800}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412805}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412807}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062412611}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412646}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412778}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412788}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412804}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412902}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062412831}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062412858}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412952}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062412970}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413267}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413353}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413354}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413400}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413441}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413443}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413444}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413445}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413447}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413448}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413450}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413453}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413492}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413497}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413499}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413501}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413502}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413392}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413452}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413494}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413515}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413716}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062413767}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413807}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413833}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413836}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062413839}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414030}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414089}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414092}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414093}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414115}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414134}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767062414156}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414159}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767062414160}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414161}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414204}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414208}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414211}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414281}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414285}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414285}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414514}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414537}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414554}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414557}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414558}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414549}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414737}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414774}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414782}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414808}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414815}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414816}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414816}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414784}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414817}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414795}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414805}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414812}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414813}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414817}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414817}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414817}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414818}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414818}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414910}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414916}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414916}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414917}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414918}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414918}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414918}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414919}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414919}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062414943}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062414972}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415200}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415220}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415228}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415229}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415242}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415414}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415419}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415441}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415446}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415447}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415447}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415449}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415450}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415471}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415477}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415478}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415479}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415563}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415574}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415575}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415576}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415576}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415577}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415650}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415821}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415833}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062415852}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062415866}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062416043}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416050}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416051}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416051}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767062416097}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767062416162}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062416174}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416176}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416177}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062416250}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416254}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416255}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416255}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416256}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767062416342}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416344}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416345}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767062416346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766790}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766817}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766802}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766836}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766856}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766839}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":true},"timestamp":1767062766840}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062782406}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062782496}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062785082}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062785380}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062795763}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062802788}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062802979}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062803738}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062805901}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062807026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062808505}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062809080}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":true,"hasClientId":true,"hasClientSecret":true,"hasSecret":true,"isProd":false},"timestamp":1767062809368}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063364986}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063364993}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063365044}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063365044}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063365045}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063364982}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"fail","durationMs":null,"errors":["expected [ Array(1) ] to deeply equal []"]},"timestamp":1767063365115}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 404 // Object.is equality"]},"timestamp":1767063365326}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365342}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365345}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365355}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365357}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063365468}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767063365638}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"fail","durationMs":null,"errors":["buildBlueprintFromChatMock is not defined"]},"timestamp":1767063365683}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767063365791}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 400 // Object.is equality"]},"timestamp":1767063365793}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 200 // Object.is equality"]},"timestamp":1767063365795}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063365889}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365897}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365898}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365898}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365899}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365900}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063365900}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Step 2: Connecting data flow between …' to be 'Connecting Salesforce and HubSpot' // Object.is equality"]},"timestamp":1767063365909}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767063365910}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063366049}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366054}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"fail","durationMs":null,"errors":["expected error to be instance of ApiError"]},"timestamp":1767063366065}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366066}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366069}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063366096}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366111}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366113}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366121}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366122}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366122}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366123}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366124}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366127}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming we handle business cont…' to match /quick sense of business context and …/i"]},"timestamp":1767063366137}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming systems follows your us…' to match /tell me about systems/i"]},"timestamp":1767063366138}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063366318}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"fail","durationMs":null,"errors":["expected [ 'Overview', 'Build Status', …(4) ] to deeply equal [ 'Overview', 'Build Status', …(3) ]"]},"timestamp":1767063366328}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366331}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063366713}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063366964}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366969}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063366970}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063366963}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063367053}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063367121}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063367140}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063367522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063367599}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367603}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367605}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367605}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367627}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063367711}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367772}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063367781}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368005}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368007}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368008}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368011}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368012}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368014}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368016}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368017}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368110}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368113}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063368134}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063368206}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063368447}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368545}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368553}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368606}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368606}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368757}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063368778}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368816}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063368824}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369031}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369060}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369114}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369120}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369129}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369183}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369289}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369398}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369402}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369404}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369340}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369461}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369514}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369517}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369588}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369736}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369761}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369723}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369860}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369878}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369891}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369912}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369976}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063369979}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370064}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063369927}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370085}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370293}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370297}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370297}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370355}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370417}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370419}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370420}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370413}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370422}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370424}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370425}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370428}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370569}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370567}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370566}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370574}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370666}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370854}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370942}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370944}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063370945}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063370997}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371056}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371077}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371084}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371085}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371085}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371099}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371203}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063371245}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371248}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063371251}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371252}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371292}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371279}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371333}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371335}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371336}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371325}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371349}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371350}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371690}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371732}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371737}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371790}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371798}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371800}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371801}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371816}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371895}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371905}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371931}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063371938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371948}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371950}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371951}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371952}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371955}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371955}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063371955}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372012}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372017}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372018}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372018}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372056}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372065}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372101}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372110}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372111}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372115}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372117}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372117}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372117}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372118}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372118}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372465}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372470}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372471}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372471}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372472}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372564}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372571}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372574}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372577}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372624}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372640}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372666}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372671}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372671}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372647}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372654}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372749}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372756}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372782}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372795}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063372973}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372981}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063372981}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063373138}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373144}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373145}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373145}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063373340}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373345}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373345}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063373346}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522170}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522225}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522225}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522237}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522238}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522240}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522242}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Step 2: Connecting data flow between …' to be 'Connecting Salesforce and HubSpot' // Object.is equality"]},"timestamp":1767063522255}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767063522257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"fail","durationMs":null,"errors":["expected error to be instance of ApiError"]},"timestamp":1767063522250}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522251}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522256}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522258}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522258}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522258}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522260}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522225}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522240}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522240}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522241}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522243}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522243}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522245}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522247}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063522249}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming we handle business cont…' to match /quick sense of business context and …/i"]},"timestamp":1767063522306}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming systems follows your us…' to match /tell me about systems/i"]},"timestamp":1767063522308}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522149}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"fail","durationMs":null,"errors":["expected [ Array(1) ] to deeply equal []"]},"timestamp":1767063522470}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"fail","durationMs":null,"errors":["expected 500 to be 404 // Object.is equality"]},"timestamp":1767063522555}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063522782}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"fail","durationMs":null,"errors":["expected { id: 'assistant-message', …(6) } to match object { role: 'assistant', …(1) }\n(5 matching properties omitted from actual)"]},"timestamp":1767063523225}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063523232}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063523239}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063523350}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"fail","durationMs":null,"errors":["expected [ 'Overview', 'Build Status', …(4) ] to deeply equal [ 'Overview', 'Build Status', …(3) ]"]},"timestamp":1767063523366}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063523392}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063524133}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063523958}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063524175}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063524253}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063524273}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063524618}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063524997}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525037}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525049}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525100}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525111}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525341}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525342}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525343}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525348}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525350}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063525352}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063525750}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063525773}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063525804}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063525813}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063526086}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526110}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526155}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526157}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526267}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526271}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526354}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526357}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526358}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526446}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526450}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063526789}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526867}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526869}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063526870}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063527280}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063527100}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527253}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527290}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063527066}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527272}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527318}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527325}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527339}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527424}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063527437}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527526}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527597}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527640}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063527550}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063527681}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528019}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528046}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528143}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528149}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528157}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528168}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528156}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528232}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528273}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528275}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528276}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528256}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528349}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528242}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528385}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528304}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528442}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528457}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528468}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528468}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528547}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528603}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528635}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528657}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528671}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528676}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528681}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528889}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528946}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528948}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528950}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528956}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063528939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528963}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528965}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528967}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528972}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528973}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063528980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529009}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529011}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529012}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529090}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529173}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529195}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529188}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529287}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063529350}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529354}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063529357}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529359}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529391}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529493}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529509}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529714}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529757}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529761}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529764}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529798}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529824}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529826}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529826}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529829}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529851}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529859}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529969}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529985}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529986}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529987}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529987}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529988}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529988}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529989}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063529989}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063529985}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530007}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530023}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530024}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530025}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530025}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530025}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530112}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530118}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530221}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530232}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530233}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530234}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530234}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530234}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530518}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530543}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530550}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530565}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530567}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530567}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530658}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530658}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530659}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530659}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530660}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530762}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530777}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530778}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530780}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530933}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530942}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530943}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530962}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530974}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530975}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063530976}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063530990}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531001}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063531182}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531187}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531188}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531188}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531189}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063531261}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063531285}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531290}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531291}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531291}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063531349}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531352}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063531423}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531427}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531428}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063531623}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063531629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700526}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700526}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700541}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"fail","durationMs":null,"errors":["expected [ 'Overview', 'Build Status', …(4) ] to deeply equal [ 'Overview', 'Build Status', …(3) ]"]},"timestamp":1767063700555}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700558}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700561}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700569}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700570}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700571}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700574}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"fail","durationMs":null,"errors":["expected 'I\\'m assuming systems follows your us…' to match /tell me about systems/i"]},"timestamp":1767063700580}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700612}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700623}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700624}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700625}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700626}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700626}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700627}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700627}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700615}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700625}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700626}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700626}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700627}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767063700635}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063700522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700786}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700858}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063700983}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063701000}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063701002}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063701651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063701668}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063701723}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063701892}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063702242}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702253}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063702384}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063702430}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063702503}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702822}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702836}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702841}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702857}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702859}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702860}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702863}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702865}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702913}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063702940}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063703333}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063703368}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063703381}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063703394}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063703758}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063703912}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063704280}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063704335}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704413}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704422}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704435}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704793}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704831}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063704831}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705135}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705428}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705429}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705432}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063705242}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705434}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063705532}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063706071}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706265}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063706375}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706540}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063706567}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706676}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706689}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063706596}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063706568}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706759}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706806}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706832}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706686}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706776}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706783}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706793}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063706971}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707201}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707337}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707369}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707555}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707610}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707617}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707620}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707623}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707625}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707626}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707597}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707633}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707666}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707702}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707708}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063707710}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063707724}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063708168}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708205}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708208}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708332}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708336}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708337}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063708567}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708633}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708636}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708638}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708640}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708642}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063708933}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063708959}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063708915}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063708998}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709002}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063709004}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709005}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063708963}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709020}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709063}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709065}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709066}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709096}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709099}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709089}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709199}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709207}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709228}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709295}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709328}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709329}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709332}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709657}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709688}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709694}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709697}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709698}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709699}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709699}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709700}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709700}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709707}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709900}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709945}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709971}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709973}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709979}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063709972}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709981}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709982}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709982}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063709982}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063710092}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063710103}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063710104}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063710261}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063710292}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063710434}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063710452}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063711211}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711243}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711244}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711245}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711245}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711246}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711246}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711249}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711250}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711263}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063711501}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711520}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063711573}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711581}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711583}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711587}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711588}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711592}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711593}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711594}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711594}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063711689}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711713}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711714}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711715}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711715}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063711716}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063712485}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712498}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712499}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712501}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063712703}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712710}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712710}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063712711}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713058}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713073}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713087}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713088}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713089}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713089}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713593}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713600}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713601}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713602}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713645}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713656}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713657}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713943}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713943}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713944}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063713944}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063713893}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871155}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871169}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871171}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871189}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871668}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871674}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871701}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871702}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871460}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871806}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871843}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871846}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871846}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871851}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871854}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871856}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871857}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063871857}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871953}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063872007}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063871962}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063872337}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063872543}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063872556}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063872611}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063872705}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873056}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873070}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873414}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873419}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873424}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063873428}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063873260}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873310}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873407}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873428}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873449}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873481}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873486}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873560}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063873807}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873896}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873931}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873932}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063873933}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063874071}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063874545}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874694}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874722}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874790}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063874618}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874758}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874790}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874797}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874799}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063874714}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063874901}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063874828}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063875061}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063875622}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063875603}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063875710}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063875736}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063875716}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063875749}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063876200}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063876328}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876356}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876362}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876363}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876444}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063876406}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876594}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876629}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063876695}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063876636}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876697}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876712}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876773}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876776}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063876779}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877032}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877068}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877101}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877102}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877103}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877120}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877122}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877123}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877137}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877114}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877184}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877185}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877195}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877198}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877202}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877205}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877208}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877210}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877223}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877419}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063877457}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877463}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063877465}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877466}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877421}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877473}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877480}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877482}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877492}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877498}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877577}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877809}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877819}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877820}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877821}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877821}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877822}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877822}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877822}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877823}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877823}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877814}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877876}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877905}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063877888}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877930}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877931}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877935}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877935}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877936}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877936}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877951}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877953}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063877954}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878203}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878208}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878209}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878209}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878210}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878270}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878275}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878277}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878277}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878278}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878278}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878397}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878402}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878550}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878556}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878557}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878557}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878558}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878558}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878645}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878666}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878760}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878768}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878783}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878740}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878780}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878784}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878786}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878786}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878787}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878787}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878787}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878788}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063878927}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063878937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879051}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879058}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879059}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879059}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879207}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879216}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879220}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879221}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879222}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879222}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879222}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879223}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879223}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879223}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879456}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879467}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879468}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879470}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879474}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879474}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879477}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879479}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879480}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879481}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063879522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879539}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879543}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879585}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879601}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879641}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879651}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879653}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879712}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879717}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879719}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063879778}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a version and focuses the new version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879793}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when the API responds with an error","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063879794}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880250}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880256}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880257}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880277}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880288}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880290}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880283}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880297}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880263}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880314}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880318}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880319}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880480}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880488}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880490}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880490}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880491}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880492}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880492}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880493}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767063880501}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880581}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880688}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880693}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880693}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880694}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880694}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063880693}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063880958}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063954710}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063954711}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063954741}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954758}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954760}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954761}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954761}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954764}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954765}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063954766}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"fail","durationMs":null,"errors":["expected 'Analyzing approval thresholds. You me…' to be 'Analyzing approval threshold logic' // Object.is equality"]},"timestamp":1767063954797}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063954952}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063955218}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063955522}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063955465}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063955719}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063955721}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063955728}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063955840}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063955852}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063956780}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063956860}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063956866}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063956960}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063956962}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063956968}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957431}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957541}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957544}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957545}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957547}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957549}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957550}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957551}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957552}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063957635}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063957658}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063957977}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063958152}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958189}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958190}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063958294}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958372}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958376}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958394}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958397}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958770}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958777}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063958779}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063958863}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063959164}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959224}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959299}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959311}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959394}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959419}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063959572}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959702}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063959603}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959756}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959799}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959807}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959814}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063959580}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959815}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063959736}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959879}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063959926}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960024}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960114}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960146}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960173}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960204}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960215}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960319}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960322}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960351}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960365}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960369}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960380}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960435}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960648}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960675}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960768}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960758}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960775}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960807}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960809}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960818}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960810}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960812}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960814}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960815}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063960869}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960960}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960963}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063960966}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961065}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961110}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961119}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961073}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961120}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961123}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961136}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961142}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961156}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961234}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961897}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961892}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961946}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961963}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961965}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961967}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063961967}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961976}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961977}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063961978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962054}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962107}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962267}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962324}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962325}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962357}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962386}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962392}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962393}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962394}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962394}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962396}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962396}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962422}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962423}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962421}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962565}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063962600}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767063962609}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962612}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962602}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962614}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962614}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962615}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962616}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962616}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962616}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962617}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962617}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962702}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962714}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962729}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962735}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962736}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063962930}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962935}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962936}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962936}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962937}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962938}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962939}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063962940}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963102}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963107}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963129}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963123}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963146}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963350}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963354}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a version and focuses the new version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963363}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when the API responds with an error","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963366}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963366}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963369}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963497}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963505}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963506}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963506}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963507}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963508}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963508}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963537}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963544}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963546}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963546}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963547}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963547}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963548}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963726}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963737}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963739}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963987}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063963980}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963998}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963993}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963997}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963997}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963998}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063963999}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964000}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964202}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964209}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964210}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964211}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964218}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964248}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964250}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964252}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964254}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964254}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964305}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964320}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964322}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964322}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964323}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964473}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964481}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964483}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964485}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767063964521}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964604}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964608}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964609}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964610}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964610}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964610}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964646}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964648}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767063964989}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964993}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964994}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964994}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767063964995}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131166}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131173}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131182}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131184}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131224}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767064131528}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the mock session when AUTH0_MOCK_ENABLED=true","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131810}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns Auth0-backed session when memberships exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131827}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064131848}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"copies workflow, requirements, intake, and tasks when cloning","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131851}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"starts from scratch when not copying","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131852}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates automation and submission when quote is signed","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131891}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when quote is not sent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131893}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when quote belongs to another tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131893}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the current user's profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131976}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when the user is not scoped to the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates editable fields for the current user","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131981}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unknown fields like email","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131983}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates timezone format","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131983}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when no editable fields are provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131984}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"propagates unauthorized errors from the session helper","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064131984}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns combined projects and automation requests for tenant readers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064132094}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks admin or tenant read","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064132108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"drafts a blueprint from Copilot input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064132154}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects clearly off-topic input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064132159}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"executes direct commands locally","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064132162}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064132622}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064132695}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064132816}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064132842}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns parsed actions from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133375}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists AI suggestions without user input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133375}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back when OpenAI key missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133377}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 for invalid transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133566}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"optimizes and persists the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133591}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064133609}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders without crashing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders sidebar and main content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133718}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct layout classes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133728}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restores collapsed sidebar state from localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133742}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists sidebar state changes to localStorage","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133814}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064133660}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders Copilot, canvas, and inspector without legacy create cards","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064133812}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134375}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134393}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses lifecycle module instead of legacy build-status helpers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134527}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134373}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders PageHeader with title, subtitle, and actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134482}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders SectionCard with heading, description, and children","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134565}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps known automation statuses to branded badge styles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134574}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back gracefully for unknown statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134576}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134391}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders responsibility tabs and key fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134528}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders step tasks and calls onViewTask when clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134577}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows signing with a valid signing token when session is absent","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134718}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134677}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not use deprecated blueprint imports","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134724}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"keeps UI copy on workflows","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134739}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064134888}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects invalid blueprint payloads with 400","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134974}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134978}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists inspector step edits","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064134979}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135315}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires authentication","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135367}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135354}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects requests without a file","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135379}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects unsupported MIME types","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects files that exceed the size limit","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135397}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uploads the avatar and updates the profile","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135402}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"surfaces storage failures","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135404}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the updated avatar via the profile endpoint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135418}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies viewers from posting messages","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135549}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135543}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted messages for GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135676}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135473}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves with current status when Save Changes clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135537}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"saves as complete when Mark Complete clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135570}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls onClose when Discard Changes is clicked","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135659}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135724}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135491}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a new message on POST","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135699}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips blueprint JSON blocks from assistant messages on GET","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135731}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation is not found for the tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064135837}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064135857}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136370}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136283}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders readiness score and todos","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136395}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064136502}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"publishes serialized chat event envelopes","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136505}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064136508}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"dispatches subscribed messages and unsubscribes cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136511}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136560}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136581}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"marks a QATesting version as live","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136628}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 400 when transition is invalid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136630}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when tenant cannot access version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136631}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"loads memberships and can switch workspace","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136660}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136652}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136745}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks non-staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136749}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant admin","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136771}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks tenant viewers","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064136773}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064136974}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns project detail with workflow and tasks when found by project id","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137063}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to automation version detail when no project row exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137066}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when user lacks permissions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137067}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137159}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"passes discountCode through to pricing service","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137259}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137256}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns persisted analysis when available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137305}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns default state when no analysis exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137308}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 404 when automation version is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137310}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137408}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to workspace-picker when active workspace is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137449}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"redirects to login when not authenticated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137450}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does nothing when NoTenantMembershipError is thrown","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137451}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137399}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"renders with correct text","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137440}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Live status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137444}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Build in Progress status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137446}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies correct CSS classes for Blocked status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137447}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles unknown status gracefully","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137449}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137464}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows only adjacent forward transitions within the build pipeline","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137471}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks backwards or skipped transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137473}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"treats unchanged status as a no-op","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137474}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates status strings","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137475}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064137767}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 0 when nothing has been answered or skipped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137774}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 1 when every requirement is answered","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137776}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns the ratio of answered/Skipped weights","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137776}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not return answered or skipped requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137777}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"respects dependency ordering","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137777}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"unlocks dependent requirements once parents are satisfied","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137779}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"prefers higher-weight fresh requirements over lower-weight asked ones","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137780}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes recently asked requirements","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137781}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null when no requirements remain","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137782}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"bundles the highest priority missing items into one question","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137784}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a concise single requirement question when only one item is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064137785}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138026}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns 403 when authorization fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138060}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"cleans up subscription on abort","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138063}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"streams chat events and heartbeats","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138058}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138045}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires context parameter","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138097}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"calls OpenAI with system context when selectedSystem is provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138100}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"includes available systems in prompt when no system is selected","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138101}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns fallback suggestions when OpenAI API key is not set","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138102}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"parses and returns use cases from OpenAI response","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138106}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"limits use cases to 6 maximum","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138107}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles invalid JSON response from OpenAI","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138107}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles empty use cases array from OpenAI","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"includes system-specific instructions in system prompt","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138108}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"handles missing OpenAI response content","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138109}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138130}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps every status to exactly one column","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138138}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"validates adjacent forward moves","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138139}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects skipped steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138149}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null for events that do not apply to the current status","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant roles to progress pricing and approvals only","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138150}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts archiving to elevated WRK roles","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138151}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps legacy project status strings to canonical statuses","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138151}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns labels for any canonical or aliased input","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138151}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"promotes \"Sent\" quotes into AwaitingClientApproval","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138152}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138172}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery for the first couple of user messages with no steps","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138178}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns flow while steps are still being mapped","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138179}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns details when objectives are set but edge cases are missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138179}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation when everything is populated","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138180}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns discovery labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns validation labels","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138167}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"references systems from the latest user message","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"highlights approval logic when mentioned","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138182}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original text when no blueprint block exists","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138177}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on same line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138178}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"extracts blueprint_updates JSON when label is on the next line","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138179}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"uses the last labeled block when multiple exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138179}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to unlabeled block at the end when it parses cleanly","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138180}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not treat unlabeled mid-message blocks as blueprint updates but still strips them","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138180}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns null blueprint updates when JSON parsing fails","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138180}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"removes all json blocks even when multiple appear","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips truncated JSON fences even without closing backticks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138181}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138523}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows owners to create and update automations in their tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138530}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows editors to write but not deploy","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138532}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"grants admins access to admin actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138532}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks cross-tenant automation access regardless of role","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138534}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"restricts billing role to billing endpoints","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138534}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138832}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"ensures decision nodes own their branch children and removes duplicate edges","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138845}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138889}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"strips markdown fences and parses json arrays","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138896}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"splits bullet/line separated content and removes cruft","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138897}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns department, outcome, complexity in order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138898}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps synonyms and defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138898}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"title-cases and removes punctuation","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138899}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138883}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns placeholder values when no metric data","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138890}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"formats metrics and deltas when data is present","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064138909}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064138988}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"persists workspaceId from query into activeWorkspaceId cookie","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064139035}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064139153}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates first-workflow offers (10% + 25%) when no submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064139160}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates followup offers (5% + 10%) when submissions exist","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064139162}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"finds an active discount by code when not expired or used","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064139162}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064139688}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"sets unitPrice to per-outcome action cost (no division by volume)","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064139788}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140091}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies unit price discount separately from setup fee discount","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140101}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140189}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant routes with a tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140195}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant routes without membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140196}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff routes without tenant membership","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140196}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff routes for non-staff users","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140197}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns tenant session when available for either guard","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140197}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns staff session when tenant membership is missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140198}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies when neither tenant nor staff session is available","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140198}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns user session without requiring tenant context","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140199}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies unauthenticated user session requests","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140201}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140261}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"accepts a valid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140273}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"rejects an invalid blueprint payload","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140274}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140374}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows tenant editor to write workflow chat within tenant","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140390}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies tenant viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140392}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staff operator to write workflow chat via platform mapping","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140396}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"denies staff viewer from writing workflow chat","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140396}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"only master admin can manage wrk staff","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140397}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"requires tenantId for tenant actions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140397}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140392}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns blockers and important tasks that are not complete","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140403}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes optional tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140404}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"excludes completed tasks","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140404}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140481}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"creates a version and focuses the new version","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140492}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when the API responds with an error","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140493}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140643}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"matches the v1 tab order","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140648}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"does not include hidden tabs","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140649}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140735}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"allows staying on the same stage or moving forward by one step","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140741}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"blocks skipped or backwards transitions","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140742}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140796}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"maps API automation to dashboard card fields","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140803}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"falls back to defaults when metrics missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140804}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"summarizes total, live, and building counts","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140805}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064140869}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills empty sections but leaves populated ones intact","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140875}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"returns original blueprint when there are no applicable updates","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140876}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"fills summary, goal, and systems defaults when missing","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"updates blueprint summary when provided","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"applies canonical step fields into the blueprint","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140877}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"is idempotent when applying the same updates twice","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140878}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"links steps using dependsOnIds","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140878}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"replaces existing flow when new steps arrive","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064140878}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-env","location":"tests/setupTests.ts:beforeAll","message":"Test runner boot","data":{"nodeEnv":"test","hasRedisUrl":false,"hasAuth0Secret":false,"hasDbUrl":false},"timestamp":1767064141212}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses preferred when valid","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064141217}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"chooses sole membership automatically","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064141217}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when multiple memberships and no preference","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064141218}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-results","location":"tests/setupTests.ts:afterEach","message":"Test case finished","data":{"taskName":"throws when no memberships","mode":"run","state":"pass","durationMs":null,"errors":[]},"timestamp":1767064141218}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064362853}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767064375932}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064475658}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064475664}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767064478607}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064606783}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064606789}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767064609117}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-auth0","location":"lib/auth/auth0.ts:init","message":"Auth0 client initialized","data":{"hasDomain":false,"hasClientId":false,"hasClientSecret":false,"hasSecret":false,"isProd":false},"timestamp":1767064925883}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064931663}
{"sessionId":"debug-session","runId":"pre-fix","hypothesisId":"H-redis","location":"lib/realtime/redis-bus.ts:requireRedisUrl","message":"Checking REDIS_URL presence","data":{"hasRedisUrl":true,"length":22},"timestamp":1767064931670}
